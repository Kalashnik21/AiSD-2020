# Лабораторная работа №4
## Пирамидальный алгоритм сортировки
## Код сортировки
~~~ 
void SiftingDown(int array[], int root, int bottom)
{
    int maxChild;
    int done = 0;
    while ((root*2 <= bottom) && (!done))
    {
        if (root*2 == bottom)
            maxChild = root*2;
        else if (array[root*2] > array[root*2 + 1])
            maxChild = root*2;
        else
            maxChild = root * 2 + 1;
        if (array[root] < array[maxChild])
        {
            int tmp = array[root];
            array[root] = array[maxChild];
            array[maxChild] = tmp;
            root = maxChild;
        }
        else
            done = 1;
    }
}

void heapSort(int array[], int size)
{
    for (int i = (size/2) - 1; i >= 0; i--)
        SiftingDown(array, i, size - 1);
    for (int i = size - 1; i >= 0; i--)
    {
        int tmp = array[0];
        array[0] = array[i];
        array[i] = tmp;
        SiftingDown(array, 0, i - 1);
    }
}
~~~
## Что такое бинарное сортирующее дерево?
Пирамида (сортирующее дерево, двоичная куча) – двоичное дерево с упорядоченными листьями (корень дерева – наименьший или наибольший элемент). Пирамиду можно представить в виде массива. Первый элемент пирамиды является наименьшим или наибольшим, что зависит от ключа сортировки.
такое двоичное дерево, для которого выполнены три условия:
- Значение в любой вершине не меньше, чем значения её потомков
- Глубина всех листьев (расстояние до корня) отличается не более чем на 1 слой
- Последний слой заполняется слева направо без «дырок»

## Суть пирамидального алгоритма сортировки
Метод пирамидальной сортировки, изобретенный Д. Уилльямсом, является улучшением традиционных сортировок с помощью дерева. 
Общая идея пирамидальной сортировки заключается в том, что сначала строится пирамида из элементов исходного массива, а затем осуществляется сортировка элементов.

## В чем разница устойчивой и неустойчивой сортировки?
Устойчивая (стабильная) сортировка — сортировка, которая не меняет относительный порядок сортируемых элементов, имеющих одинаковые ключи, по которым происходит сортировка.
При неустойчивой сортировке теряется порядок элементов, имеющих одинаковые ключи, этим страдают сортировки пирамидой и методом Хоара. При устойчивой сортировке относительный порядок элементов с одинаковыми ключами сохраняется.

## Достоинства и недостатки
Достоинства:
- Имеет доказанную оценку худшего случая O(n * log n).
- Сортирует на месте, то есть требует всего O(1) дополнительной памяти.

Недостатки:
- Сложен в реализации.
- Является неустойчивым.
- На почти отсортированных массивах работает столь же долго, как и на хаотических данных.
- Ко­гда ко­ли­че­ство сор­ти­руе­мых дан­ных на­чи­на­ет пре­вы­шать раз­мер кэ­ша ско­рость сор­ти­ров­ки па­да­ет.
- Не работает на связанных списках и других структурах памяти последовательного доступа.


