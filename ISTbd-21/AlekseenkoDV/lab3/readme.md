# Лабораторная работа №3
## Сортировка методом Хоара или быстрая сортировка
## Код сортировки
~~~ 
void QuickSort(int array[], int low, int high)
{
    int i = low;
    int j = high;
    int tmp;
    int middle = array[(i + j)/2];
    do {
        while(array[i] < middle){
            i++;
        }
        while(array[j] > middle){
            j--;
        }
        if (i <= j){
            tmp = array[i];
            array[i] = array[j];
            array[j] = tmp;
            i++;
            j--;
        }
    } while(i <= j);

    if (low < j ){
        QuickSort(array, low, j);
    }
    if (i < high){
        QuickSort(array, i, high);
    }
}
~~~
## Кто такой Чарльз Хоар? Чем он известен?
Сэр Чарльз Э́нтони Ри́чард Хо́ар — английский учёный, специализирующийся в области информатики и вычислительной техники. Наиболее известен как разработчик алгоритма «быстрой сортировки» (1960), на сегодняшний день являющегося наиболее популярным алгоритмом сортировки.

## Общее описание метода Хоара
- Выбрать из массива элемент, называемый опорным. Это может быть любой из элементов массива. От выбора опорного элемента не зависит корректность алгоритма, но в отдельных случаях может сильно зависеть его эффективность.
-  Сравнить все остальные элементы с опорным и переставить их в массиве так, чтобы разбить массив на три непрерывных отрезка, следующих друг за другом: «элементы меньшие опорного», «равные» и «большие».
-   Для отрезков «меньших» и «больших» значений выполнить рекурсивно ту же последовательность операций, если длина отрезка больше единицы.

## Алгоритм метода Хоара
Алгоритм состоит из трёх шагов:
- Выбрать элемент из массива. Назовём его опорным.
- Разбиение: перераспределение элементов в массиве таким образом, что элементы меньше опорного помещаются перед ним, а больше или равные после.
 - Рекурсивно применить первые два шага к двум подмассивам слева и справа от опорного элемента. Рекурсия не применяется к массиву, в котором только один элемент или отсутствуют элементы.

## Как происходит выбор опорного пункта
В ранних реализациях, как правило, опорным выбирался первый элемент, что снижало производительность на отсортированных массивах. Для улучшения эффективности может выбираться средний, случайный элемент или (для больших массивов) медиана первого, среднего и последнего элементов. Медиана всей последовательности является оптимальным опорным элементом, но её вычисление слишком трудоёмко для использования в сортировке.

## Разбиение Ломуто
Данный алгоритм разбиения был предложен Нико Ломуто и популяризован в книгах Бентли. В данном примере опорным выбирается последний элемент. Алгоритм хранит индекс в переменной i. Каждый раз, когда находится элемент, меньше или равный опорному, индекс увеличивается, и элемент вставляется перед опорным. Хоть эта схема разбиения проще и компактнее, чем схема Хоара, она менее эффективна и используется в обучающих материалах. 

## Разбиение Хоара
Данная схема использует два индекса (один в начале массива, другой в конце), которые приближаются друг к другу, пока не найдётся пара элементов, где один больше опорного и расположен перед ним, а второй меньше и расположен после. Эти элементы меняются местами. Обмен происходит до тех пор, пока индексы не пересекутся. Алгоритм возвращает последний индекс.Схема Хоара эффективнее схемы Ломуто, так как происходит в среднем в три раза меньше обменов элементов, и разбиение эффективнее, даже когда все элементы равны.

## Достоинства и недостатки
### Достоинства:
- Один из самых быстрых алгоритмов сортировки
- Работает на малых объемах памяти
- Имеет компактную реализацию
### Недостатки:
- Существуют случаи, при которых производительность сильно снижается
- Неустойчивый

## Интересные факты метода Хоара
-  Алгоритм был создан Ч.Хоаром во время его работы в МГУ в 1960г.
-  Создание "быстрой сортировки" пришлось на период обучения Ч.Хоара в МГУ компьютерному переводу.